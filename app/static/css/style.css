:root { 
  --color-primary: #005AAC; 
  --color-accent: #00C2F3; 
  --color-bg: #F3F8FC; 
  --color-white: #FFFFFF; 
  --color-text: #1B1E23; 
  --radius: 12px; 
  --shadow: 0 4px 12px rgba(0,0,0,0.06); 
  --font: 'Segoe UI', Roboto, sans-serif;

  /* densidad/espaciado para vista “1 pantalla” */
  --fs-base: 12px;
  --gap: 10px;
  --header-h: 56px;
}

/* ===== Reset ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
  font-family: var(--font);
  background-color: var(--color-bg);
  color: var(--color-text);
  line-height: 1.45;
  overflow: hidden; /* <- sin scroll global en desktop */
}

/* ===== Contenedores “legacy” que podés usar en otros steps ===== */
.section { padding: 40px 20px; max-width: 800px; margin: 0 auto; }
.section--fluid { padding: 0; max-width: none; margin: 0; }
.section-title { font-size: 1.8rem; color: var(--color-primary); margin-bottom: 16px; }

/* ===== Inputs base ===== */
input[type="text"], input[type="number"], input[type="date"], select, textarea {
  width: 100%; padding: 8px 12px;
  border: 1px solid #ccc; border-radius: var(--radius);
  font-size: 1rem; margin-bottom: 16px; background:#fff;
}
input, select, textarea { font-family: inherit; }


/* ===== Botones ===== */
form button {
  background-color: var(--color-primary); color: var(--color-white);
  border: none; padding: 12px 24px; font-size: 1rem;
  border-radius: var(--radius); cursor: pointer; transition: background 0.2s;
}
form button:hover { background-color: var(--color-accent); }

/* ===== Flash ===== */
.flash-list { list-style: none; margin: 20px auto; max-width: 800px; }
.flash-list li { padding: 10px 16px; border-radius: var(--radius); margin-bottom: 8px; }
.flash-list .error { background: #fdecea; color: #611a15; }
.flash-list .success { background: #e6f4ea; color: #1d3c34; }

/* ===== Lista de sesiones ===== */
.session-list { list-style: none; padding: 0; margin-bottom: 24px; }
.session-list li { padding: 12px 16px; border-bottom: 1px solid #e0e0e0; }
.session-list li.closed a { color: #999999; }
.session-list li.open a { color: var(--color-primary); font-weight: bold; }
.session-list li.closed a:hover { background-color: transparent; }
.session-list li.open a:hover { background-color: var(--color-bg); }

/* ===== Cards “legacy” ===== */
.cards { list-style: none; padding: 0; display: grid; gap: 12px; margin-bottom: 24px; }
.cards-section{ list-style: none; margin: 16px 0 8px; padding: 0; }
.cards .input{ width: 100%; max-width: 680px; padding: 8px 10px; border: 1px solid #d9e0e8; border-radius: 10px; font: inherit; background:#fff; }
.cards .input--compact{ width: 220px; max-width: 220px; }
.cards select.input{ appearance: auto; -webkit-appearance: auto; padding-right: 28px; }
.cards textarea.input{ resize: vertical; overflow: auto; }
.field-block{ display: flex; flex-direction: column; gap: 6px; max-width: 680px; }
.cards li.card {
  background-color: var(--color-white); border-radius: var(--radius);
  box-shadow: var(--shadow); padding: 16px; transition: transform 0.2s;
  /* NOTA: overflow visible para otras vistas; en dashboard lo sobreescribimos */
  overflow: visible;
}
.cards li.card:hover { transform: translateY(-4px); }
.cards li.assistant { border-left: 4px solid var(--color-primary); }
.cards li.user { border-left: 4px solid #ccc; }
@media (max-width: 600px) {
  .cards { grid-template-columns: 1fr; }
  .cards .input{ width: 100%; max-width: 100%; min-width: 0; }
}

/* ===== Signos vitales (común) ===== */
.vitals-grid {
  display: grid;
  grid-template-columns: repeat(3, 220px);
  gap: 12px 16px;
  justify-content: start;
  align-items: end;
}
.vital label { display: block; font-size: 0.85rem; color: #555; margin-bottom: 4px; }

/* ===== Header superior ===== */
.app-header {
  display: flex; align-items: center;
  padding: 10px 20px; border-bottom: 1px solid #ddd; background-color: #fff;
  height: var(--header-h);
}
.app-title { font-size: 1.25rem; margin: 0; color: #012f6e; }
.app-logo { width: 28px !important; height: 28px !important; margin-right: 8px; }

/* ===== Botones reutilizables ===== */
.actions { display:flex; gap:12px; margin-top:16px; }
.btn { padding:10px 16px; border-radius:10px; border:1px solid #d9e0e8; background:#fff; cursor:pointer; }
.btn.primary { background:#005AAC; color:#fff; border-color:#005AAC; }
.btn:hover { filter: brightness(0.98); }
.btn.primary:hover { background:#00C2F3; border-color:#00C2F3; }

/* ===================================================================== */
/* ====================  DASHBOARD “1 PANTALLA”  ======================= */
/* ===================================================================== */

/* Grid principal: header + contenido */
.px-dashboard {
  height: 100vh;
  display: grid;
  grid-template-rows: var(--header-h) 1fr;
  font-size: var(--fs-base);
  line-height: 1.35;
}

.grid3{
  height: 100%;
  padding: var(--gap);
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: var(--gap);
}

/* Columnas con tarjetas de altura uniforme */
.col{
  display: flex;
  flex-direction: column;
  gap: var(--gap);
  align-items: stretch;
}
/* Tarjeta “scrollable” por exceso de contenido */
.card{
  background: var(--color-white);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 8px;             /* antes 10px */
  display: flex;
  flex-direction: column;
  overflow: visible;        /* la card NO scrollea */
}
.card > header{
  color: var(--color-primary);
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 0.95rem;
  position: sticky; top: 0; background:#fff; z-index: 1; padding-bottom: 6px;
}


/* Inputs compactos dentro del dashboard */
.px-dashboard input[type="text"],
.px-dashboard input[type="number"],
.px-dashboard input[type="date"],
.px-dashboard select,
.px-dashboard textarea {
  font-family: inherit;
  font-size: var(--fs-base);
  padding: 6px 8px;
  margin-bottom: 8px;
  border-radius: 10px;
}



/* Textareas: scroll interno y altura máxima */
.px-dashboard textarea,
.textarea-scroll,
.textarea-fixed{
  resize: vertical;
  max-height: 200px;
  overflow: auto;
  scrollbar-gutter: stable;
}
/* Signos vitales: versión densa y fluida */
.px-dashboard .vitals-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}
.px-dashboard .vitals-grid label{ font-size:12px; margin-bottom:2px; color:#555; }


/* === Grids y helpers internos (reemplazo completo) ===================== */
/* 2 columnas dentro de "Consulta actual" */
.fields-grid-2{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px 12px;
}
.fields-grid-2 .field-block{ max-width: none; } /* quita el límite 680px */

/* Dos campos en línea para "Datos básicos" */
.inline-2{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px 12px;
}




/* Botonera en header (compacta) */
.session-meta{ margin-left:auto; display:flex; align-items:center; gap:12px; }
.session-title{ color:#012f6e; font-weight:600; }
.actions--header .btn{ padding:6px 10px; font-size: var(--fs-base); }

/* (Opcional) Acciones al pie si aún las usás en otras vistas */
.actions.row-end { margin-top: var(--gap); display: flex; justify-content: flex-end; gap: 8px; }
.btn { padding: 8px 12px; font-size: var(--fs-base); border-radius: 10px; }

/* ===== Responsive: en pantallas chicas permitimos scroll global ===== */
@media (max-width: 1279px) {
  html, body { overflow: auto; }          /* contenido completo accesible */
  .grid3 { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 900px) {
  .grid3 { grid-template-columns: 1fr; }
}
/* Ocultar visualmente pero mantener accesible (labels internos que duplican el header) */
.sr-only{
  position: absolute;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* === Header: consulta + botones en la misma línea === */
.session-bar{
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 12px;
}
.session-title{
  color: #012f6e;
  font-weight: 600;
  white-space: nowrap;
}

/* === Examen físico: textarea más alto al abrir === */
.card-examen .textarea-fixed{
  min-height: 120px;   /* ~4 filas; ajustá si querés */
}

body.page-simple{
  overflow: auto;
  -webkit-overflow-scrolling: touch; /* suaviza en iOS */
}